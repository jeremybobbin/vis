.Dd March 21, 2023
.Dt VIS-COMPLETE 1
.Os Vis VERSION
.
.Sh NAME
.Nm vis-complete
.Nd Interactively complete file or word
.
.Sh SYNOPSIS
.Nm vis-complete
.Op Fl -file | -word
.Op Ar --
.Ar pattern
.Pp
.Nm vis-complete
.Fl h | -help
.
.Sh DESCRIPTION
.Nm vis-complete
takes a pattern on the command-line and completes file or word and displays
them in a menu for the user to select one.
Once the user has selected a completion, the completion (excluding the
pattern) is printed to standard output.
.Pp
.Nm vis-complete
uses
.Xr vis-menu 1
as its user-interface,
so see that page for more details.
.
.Bl -tag -width flag
.It Fl -file
This passes
.Ar pattern
to
.Nm find
to obtain a list of matching file names
(this is the default).
.It Fl -word
This reads standard input to obtain a list of lines matching
.Ar pattern .
.It Fl -
An argument following this token will be treated as pattern,
even if it would otherwise be a valid command-line option.
.Pp
If encountered after a previous instance of
.Li --
it is treated as a pattern.
.It Ar pattern
The pattern to be completed by file or word.
.It Fl h | Fl -help
If present,
.Nm vis-complete
prints a usage summary and exits,
ignoring any other flag and arguments.
.El
.
.Sh EXIT STATUS
.Ex -std vis-complete
.Pp
In particular,
like
.Xr vis-menu 1 ,
.Nm vis-complete
prints nothing and sets its exit status to 1
if the user refused to select a file.
.
.Sh SEE ALSO
.Xr vis 1 ,
.Xr vis-menu 1
.
.Sh BUGS
Because
.Nm vis-complete
uses
.Xr find 1
to obtain the list of files, weird things might happen if you have
control-characters in your filenames.
